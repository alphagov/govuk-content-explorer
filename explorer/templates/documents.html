{%- macro documents(results, scope, title_or_slug) -%}
<ul>
{% for document in results.documents %}
<li>
<a href="{{ scope.document_link(document) }}">{{ document.title }}</a><br>
<i>{{ document.index }}: {{ document.display_type or '' }} ({{ document.document_type }}: {{ ', '.join(document.format) }})</i><br>
{{ document.description }}<br>

{% for v in document.specialist_sectors %}
  Topic: <a href="{{ scope.filter_link("specialist_sectors", v["slug"])}}">{{ title_or_slug(v) }}</a><br>
{% endfor %}

{% for v in document.mainstream_browse_pages %}
  Browse page: <a href="{{ scope.filter_link("mainstream_browse_pages", v["slug"])}}">{{ title_or_slug(v) }}</a><br>
{% endfor %}

{% for v in document.organisations %}
  Organisation: <a href="{{ scope.filter_link("organisations", v["slug"])}}">{{ title_or_slug(v) }}</a><br>
{% endfor %}

{% for v in document.collections %}
  Collection: <a href="{{ scope.filter_link("document_collections", v["slug"])}}">{{ title_or_slug(v) }}</a><br>
{% endfor %}

{% for v in document.format %}
  Format: <a href="{{ scope.filter_link("format", v)}}">{{ v }}</a><br>
{% endfor %}
<br>
</li>
{% endfor %}
</ul>
{%- endmacro -%}
